<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Text?>
<?import javafx.geometry.Insets?>

<BorderPane xmlns:fx="http://javafx.com/fxml" fx:controller="com.group25.greengrocer.controller.CarrierController"
            stylesheets="@../css/app.css" prefWidth="960" prefHeight="540">
    
    <!-- Header -->
    <top>
        <HBox spacing="20" alignment="CENTER_LEFT" styleClass="carrier-header">
            <Text fx:id="welcomeText" text="Welcome, Carrier" styleClass="welcome-text"/>
            <Region HBox.hgrow="ALWAYS"/>
            <Button text="Refresh All" onAction="#handleRefreshAll" styleClass="refresh-btn"/>
            <Button text="Logout" onAction="#handleLogout" styleClass="logout-btn"/>
        </HBox>
    </top>
    
    <!-- Main Content - 3 Sections -->
    <center>
        <VBox spacing="15" style="-fx-padding: 20; -fx-background-color: #f5f5f5;">
            
            <!-- Available Orders Section -->
            <VBox spacing="10" VBox.vgrow="ALWAYS">
                <HBox alignment="CENTER_LEFT" spacing="10">
                    <Text text="Available Orders" style="-fx-font-size: 16px; -fx-font-weight: bold; -fx-fill: #333;"/>
                    <Region HBox.hgrow="ALWAYS"/>
                    <Button text="Refresh" onAction="#handleRefreshAvailable" styleClass="button-secondary" style="-fx-font-size: 12px; -fx-padding: 5 15;"/>
                </HBox>
                
                <TableView fx:id="availableOrdersTable" VBox.vgrow="ALWAYS" style="-fx-background-color: white;">
                    <columns>
                        <TableColumn fx:id="availOrderIdCol" text="Order ID" prefWidth="80"/>
                        <TableColumn fx:id="availCustomerNameCol" text="Customer Name" prefWidth="150"/>
                        <TableColumn fx:id="availCustomerAddressCol" text="Customer Address" prefWidth="200"/>
                        <TableColumn fx:id="availDeliveryDateCol" text="Delivery Date" prefWidth="130"/>
                        <TableColumn fx:id="availTotalCol" text="Total ($)" prefWidth="100"/>
                        <TableColumn fx:id="availActionsCol" text="Actions" prefWidth="100"/>
                    </columns>
                    <placeholder>
                        <Label text="No available orders." style="-fx-text-fill: #999;"/>
                    </placeholder>
                </TableView>
            </VBox>
            
            <!-- Current Orders Section -->
            <VBox spacing="10" VBox.vgrow="ALWAYS">
                <HBox alignment="CENTER_LEFT" spacing="10">
                    <Text text="Current Orders" style="-fx-font-size: 16px; -fx-font-weight: bold; -fx-fill: #333;"/>
                    <Region HBox.hgrow="ALWAYS"/>
                    <Button text="Refresh" onAction="#handleRefreshCurrent" styleClass="button-secondary" style="-fx-font-size: 12px; -fx-padding: 5 15;"/>
                </HBox>
                
                <TableView fx:id="currentOrdersTable" VBox.vgrow="ALWAYS" style="-fx-background-color: white;">
                    <columns>
                        <TableColumn fx:id="currOrderIdCol" text="Order ID" prefWidth="80"/>
                        <TableColumn fx:id="currCustomerNameCol" text="Customer Name" prefWidth="150"/>
                        <TableColumn fx:id="currCustomerAddressCol" text="Customer Address" prefWidth="200"/>
                        <TableColumn fx:id="currDeliveryDateCol" text="Delivery Date" prefWidth="130"/>
                        <TableColumn fx:id="currTotalCol" text="Total ($)" prefWidth="100"/>
                        <TableColumn fx:id="currActionsCol" text="Actions" prefWidth="100"/>
                    </columns>
                    <placeholder>
                        <Label text="No current orders." style="-fx-text-fill: #999;"/>
                    </placeholder>
                </TableView>
            </VBox>
            
            <!-- Completed Orders Section -->
            <VBox spacing="10" VBox.vgrow="ALWAYS">
                <HBox alignment="CENTER_LEFT" spacing="10">
                    <Text text="Completed Orders" style="-fx-font-size: 16px; -fx-font-weight: bold; -fx-fill: #333;"/>
                    <Region HBox.hgrow="ALWAYS"/>
                    <Button text="Refresh" onAction="#handleRefreshCompleted" styleClass="button-secondary" style="-fx-font-size: 12px; -fx-padding: 5 15;"/>
                </HBox>
                
                <TableView fx:id="completedOrdersTable" VBox.vgrow="ALWAYS" style="-fx-background-color: white;">
                    <columns>
                        <TableColumn fx:id="compOrderIdCol" text="Order ID" prefWidth="80"/>
                        <TableColumn fx:id="compCustomerNameCol" text="Customer Name" prefWidth="150"/>
                        <TableColumn fx:id="compRequestedDateCol" text="Requested Date" prefWidth="130"/>
                        <TableColumn fx:id="compDeliveredDateCol" text="Delivered Date" prefWidth="130"/>
                        <TableColumn fx:id="compTotalCol" text="Total ($)" prefWidth="100"/>
                    </columns>
                    <placeholder>
                        <Label text="No completed orders." style="-fx-text-fill: #999;"/>
                    </placeholder>
                </TableView>
            </VBox>
            
        </VBox>
    </center>
    
</BorderPane>
